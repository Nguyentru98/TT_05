<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sudoku Game</title>
  <style>
    table {
      border-collapse: collapse;
    }

    td {
      border: 1px solid #000;
      width: 30px;
      height: 30px;
      text-align: center;
      font-size: 16px;
    }

    input {
      width: 100%;
      height: 100%;
      border: none;
      font-size: 16px;
      text-align: center;
    }
  </style>
</head>
<body>

  <h1>Sudoku Game</h1>

  <table id="sudoku-board"></table>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const boardSize = 9;
      const subgridSize = 3;
      const emptyCellValue = null;

      // Generate an empty Sudoku board
      function generateEmptyBoard() {
        const board = [];
        for (let i = 0; i < boardSize; i++) {
          const row = [];
          for (let j = 0; j < boardSize; j++) {
            row.push(emptyCellValue);
          }
          board.push(row);
        }
        return board;
      }

      // Display the Sudoku board on the HTML table
      function displayBoard(board) {
        const table = document.getElementById("sudoku-board");
        table.innerHTML = "";

        for (let i = 0; i < boardSize; i++) {
          const row = document.createElement("tr");
          for (let j = 0; j < boardSize; j++) {
            const cell = document.createElement("td");
            const input = document.createElement("input");
            input.type = "text";
            input.maxLength = 1;
            input.value = board[i][j] !== emptyCellValue ? board[i][j] : "";
            input.addEventListener("input", function() {
              handleInput(i, j, input.value);
            });

            cell.appendChild(input);
            row.appendChild(cell);
          }
          table.appendChild(row);
        }
      }

      // Handle user input and update the board
      function handleInput(row, col, value) {
        if (isValidMove(row, col, value)) {
          sudokuBoard[row][col] = value !== "" ? parseInt(value, 10) : emptyCellValue;
        } else {
          alert("Invalid move! Please try again.");
          // You can customize the error handling as per your requirements
        }
        displayBoard(sudokuBoard);
      }

      // Check if the move is valid
      function isValidMove(row, col, value) {
        // Check if the value is a number between 1 and 9
        const parsedValue = parseInt(value, 10);
        if (isNaN(parsedValue) || parsedValue < 1 || parsedValue > 9) {
          return false;
        }

        // Check if the value is not present in the row, column, and subgrid
        return (
          isValueUniqueInRow(row, parsedValue) &&
          isValueUniqueInColumn(col, parsedValue) &&
          isValueUniqueInSubgrid(row - (row % subgridSize), col - (col % subgridSize), parsedValue)
        );
      }

      // Check if the value is unique in the row
      function isValueUniqueInRow(row, value) {
        return !sudokuBoard[row].includes(value);
      }

      // Check if the value is unique in the column
      function isValueUniqueInColumn(col, value) {
        for (let i = 0; i < boardSize; i++) {
          if (sudokuBoard[i][col] === value) {
            return false;
          }
        }
        return true;
      }

      // Check if the value is unique in the subgrid
      function isValueUniqueInSubgrid(startRow, startCol, value) {
        for (let i = 0; i < subgridSize; i++) {
          for (let j = 0; j < subgridSize; j++) {
            if (sudokuBoard[startRow + i][startCol + j] === value) {
              return false;
            }
          }
        }
        return true;
      }

      // Initialize the Sudoku board
      const sudokuBoard = generateEmptyBoard();
      displayBoard(sudokuBoard);
    });
  </script>

</body>
</html>
